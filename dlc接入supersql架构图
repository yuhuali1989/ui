<mxfile modified="2020-12-11T02:42:07.575Z" host="app.diagrams.net" agent="5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.198 Safari/537.36" etag="sbkq_5hJCJ1jWEmeKO08" version="13.10.4" type="github">
  <diagram id="Ht1M8jgEwFfnCIfOTk4-" name="Page-1">
    <mxGraphModel dx="1298" dy="770" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1169" pageHeight="827" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="VgigRdKXa9ySGMYJv0nX-57" value="eks集群" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontColor=#FFB366;strokeColor=#FFCC99;" vertex="1" parent="1">
          <mxGeometry x="265" y="635" width="220" height="60" as="geometry" />
        </mxCell>
        <mxCell id="VgigRdKXa9ySGMYJv0nX-10" value="eks集群" style="rounded=0;whiteSpace=wrap;html=1;align=left;" vertex="1" parent="1">
          <mxGeometry x="490" y="280" width="220" height="80" as="geometry" />
        </mxCell>
        <mxCell id="VgigRdKXa9ySGMYJv0nX-23" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" edge="1" parent="1" source="VgigRdKXa9ySGMYJv0nX-36" target="VgigRdKXa9ySGMYJv0nX-20">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="614.9949999999999" y="420" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="VgigRdKXa9ySGMYJv0nX-27" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="VgigRdKXa9ySGMYJv0nX-36" target="VgigRdKXa9ySGMYJv0nX-26">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="620" y="500" as="targetPoint" />
            <mxPoint x="689.0999999999999" y="445" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="VgigRdKXa9ySGMYJv0nX-32" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.25;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="VgigRdKXa9ySGMYJv0nX-36" target="VgigRdKXa9ySGMYJv0nX-25">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="689.0999999999999" y="460" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="670" y="460" />
              <mxPoint x="709" y="460" />
              <mxPoint x="709" y="604" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="VgigRdKXa9ySGMYJv0nX-18" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="VgigRdKXa9ySGMYJv0nX-5" target="VgigRdKXa9ySGMYJv0nX-10">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="VgigRdKXa9ySGMYJv0nX-21" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="VgigRdKXa9ySGMYJv0nX-5" target="VgigRdKXa9ySGMYJv0nX-36">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="540.8899999999999" y="449" as="targetPoint" />
            <Array as="points">
              <mxPoint x="240" y="449" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="VgigRdKXa9ySGMYJv0nX-5" value="EOS（计算入口服务）" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="170.00000000000003" y="290" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="VgigRdKXa9ySGMYJv0nX-14" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="VgigRdKXa9ySGMYJv0nX-6" target="VgigRdKXa9ySGMYJv0nX-10">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="VgigRdKXa9ySGMYJv0nX-6" value="EKS（容器服务）" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="480" y="150" width="240" height="60" as="geometry" />
        </mxCell>
        <mxCell id="VgigRdKXa9ySGMYJv0nX-11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="VgigRdKXa9ySGMYJv0nX-8" target="VgigRdKXa9ySGMYJv0nX-6">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="VgigRdKXa9ySGMYJv0nX-16" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="VgigRdKXa9ySGMYJv0nX-8" target="VgigRdKXa9ySGMYJv0nX-5">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="VgigRdKXa9ySGMYJv0nX-8" value="资管服务" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="170.00000000000003" y="150" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="VgigRdKXa9ySGMYJv0nX-12" value="创建eks集群" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="400" y="160" width="70" height="20" as="geometry" />
        </mxCell>
        <mxCell id="VgigRdKXa9ySGMYJv0nX-17" value="eks连接信息" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="270" y="240" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="VgigRdKXa9ySGMYJv0nX-19" value="拉起presto集群&lt;br&gt;二期常驻" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="330" y="310" width="130" height="20" as="geometry" />
        </mxCell>
        <mxCell id="VgigRdKXa9ySGMYJv0nX-28" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.75;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="VgigRdKXa9ySGMYJv0nX-20" target="VgigRdKXa9ySGMYJv0nX-26">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="VgigRdKXa9ySGMYJv0nX-20" value="presto" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="549.99" y="297.5" width="130.01" height="45" as="geometry" />
        </mxCell>
        <mxCell id="VgigRdKXa9ySGMYJv0nX-22" value="注册presto 数据源" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="350" y="420" width="100" height="20" as="geometry" />
        </mxCell>
        <mxCell id="VgigRdKXa9ySGMYJv0nX-24" value="dml&amp;nbsp;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="620" y="380" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="VgigRdKXa9ySGMYJv0nX-29" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="VgigRdKXa9ySGMYJv0nX-25" target="VgigRdKXa9ySGMYJv0nX-26">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="720" y="582.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="VgigRdKXa9ySGMYJv0nX-30" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="VgigRdKXa9ySGMYJv0nX-25" target="VgigRdKXa9ySGMYJv0nX-36">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="614.99" y="470" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="VgigRdKXa9ySGMYJv0nX-25" value="hive-server2" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="559.99" y="601.25" width="110" height="27.5" as="geometry" />
        </mxCell>
        <mxCell id="VgigRdKXa9ySGMYJv0nX-26" value="hybris（统一元数据）" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="830" y="590" width="170" height="50" as="geometry" />
        </mxCell>
        <mxCell id="VgigRdKXa9ySGMYJv0nX-31" value="注册hive集群" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="530" y="490" width="80.89" height="20" as="geometry" />
        </mxCell>
        <mxCell id="VgigRdKXa9ySGMYJv0nX-33" value="ddl" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="669.99" y="490" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="VgigRdKXa9ySGMYJv0nX-34" value="持久化datasource信息" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="770" y="420" width="80" height="20" as="geometry" />
        </mxCell>
        <mxCell id="VgigRdKXa9ySGMYJv0nX-35" value="调用hms服务" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="790" y="300" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="VgigRdKXa9ySGMYJv0nX-39" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;dashed=1;fontColor=#FFB366;strokeColor=#FFCC99;" edge="1" parent="1" source="VgigRdKXa9ySGMYJv0nX-36" target="VgigRdKXa9ySGMYJv0nX-20">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="530" y="430" />
              <mxPoint x="530" y="320" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="VgigRdKXa9ySGMYJv0nX-55" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.25;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="VgigRdKXa9ySGMYJv0nX-36" target="VgigRdKXa9ySGMYJv0nX-54">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="VgigRdKXa9ySGMYJv0nX-36" value="supersql" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="559.99" y="430" width="110" height="45" as="geometry" />
        </mxCell>
        <mxCell id="VgigRdKXa9ySGMYJv0nX-44" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.25;entryDx=0;entryDy=0;fontColor=#FFB366;strokeColor=#FFCC99;" edge="1" parent="1" target="VgigRdKXa9ySGMYJv0nX-41">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="560" y="460" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="VgigRdKXa9ySGMYJv0nX-40" value="联邦查询" style="text;html=1;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#FFB366;strokeColor=#FFCC99;" vertex="1" parent="1">
          <mxGeometry x="460" y="540" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="VgigRdKXa9ySGMYJv0nX-43" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontColor=#FFB366;strokeColor=#FFCC99;" edge="1" parent="1" source="VgigRdKXa9ySGMYJv0nX-41" target="VgigRdKXa9ySGMYJv0nX-36">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="510" y="470" as="targetPoint" />
            <Array as="points">
              <mxPoint x="370" y="470" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="VgigRdKXa9ySGMYJv0nX-47" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#FFCC99;" edge="1" parent="1" source="VgigRdKXa9ySGMYJv0nX-41" target="VgigRdKXa9ySGMYJv0nX-42">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="VgigRdKXa9ySGMYJv0nX-41" value="livy 推荐&lt;br&gt;kyuuby 坑多没人" style="rounded=0;whiteSpace=wrap;html=1;fontColor=#FFB366;strokeColor=#FFCC99;" vertex="1" parent="1">
          <mxGeometry x="320" y="590" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="VgigRdKXa9ySGMYJv0nX-49" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;fontColor=#FFB366;strokeColor=#FFCC99;" edge="1" parent="1" source="VgigRdKXa9ySGMYJv0nX-42" target="VgigRdKXa9ySGMYJv0nX-26">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="VgigRdKXa9ySGMYJv0nX-42" value="spark" style="rounded=0;whiteSpace=wrap;html=1;fontColor=#FFB366;strokeColor=#FFCC99;" vertex="1" parent="1">
          <mxGeometry x="320" y="650" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="VgigRdKXa9ySGMYJv0nX-45" value="supersql配置livy文件启动" style="text;html=1;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#FFB366;strokeColor=#FFCC99;" vertex="1" parent="1">
          <mxGeometry x="270" y="520" width="100" height="20" as="geometry" />
        </mxCell>
        <mxCell id="VgigRdKXa9ySGMYJv0nX-48" value="jdbc sql" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="140" y="390" width="100" height="20" as="geometry" />
        </mxCell>
        <mxCell id="VgigRdKXa9ySGMYJv0nX-50" value="联邦查询&lt;br&gt;不支持，presto没有动态catalog" style="text;html=1;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#FFB366;strokeColor=#FFCC99;" vertex="1" parent="1">
          <mxGeometry x="480" y="380" width="90" height="20" as="geometry" />
        </mxCell>
        <mxCell id="VgigRdKXa9ySGMYJv0nX-53" value="&lt;br&gt;&lt;b&gt;supersql/presto 团队需求&lt;/b&gt;&lt;br&gt;&lt;br&gt;一、背景：&lt;br&gt;1、supersql统一语法功能 p0&lt;br&gt;2、presto常驻共享集群方案 p0&lt;br&gt;3、联邦查询方案 p1&lt;br&gt;&lt;br&gt;二、核心工作模块&lt;br&gt;&lt;br&gt;1、基于语法的路由功能：从资管接sql路由到supersql，支持大部分ddl走hive，部分数据操作ddl仍然走presto，如create table as select；（部分限制考虑放到资管，如只允许外表，block 数据删除ddl） p0&lt;br&gt;&lt;br&gt;2、hybris supersql打通 p0&lt;br&gt;&lt;br&gt;3、cam数据访问认证信息传递方案 p0&lt;br&gt;&lt;br&gt;4、库表行列数据权限方案确定 p2&lt;br&gt;&lt;br&gt;5、presto sql 多租户动态资源隔离探索及presto gateway位置：p0&lt;br&gt;&lt;br&gt;6、联邦查询方案选型 spark？presto动态catalg？aws athena federated lambd方案 p1&lt;br&gt;&lt;br&gt;7、引申探索 spark sql jdbc/serverless 方案 p1&lt;br&gt;&lt;br&gt;&lt;font color=&quot;#ffcc99&quot;&gt;粉红色优先级p1&amp;nbsp;&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="1000" y="155" width="380" height="395" as="geometry" />
        </mxCell>
        <mxCell id="VgigRdKXa9ySGMYJv0nX-54" value="COS（对象存储）" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="120.00000000000003" y="620" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="VgigRdKXa9ySGMYJv0nX-56" value="cos数据访问&lt;br&gt;id/key/token传递" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="100" y="500" width="120" height="20" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
